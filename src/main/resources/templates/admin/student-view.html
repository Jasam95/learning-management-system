<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8"/>
    <title>Student Details</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"/>
</head>
<body >

<div th:replace="~{fragments/navbar :: navbar}"></div>

<!-- Correct Layout Usage -->
<div th:replace="~{fragments/sidebar :: layout(~{::content})}">

    <!-- Everything must be inside this fragment -->
    <div th:fragment="content">

        <h3 th:text="${student.fullName}"></h3>
        <p><strong>Email:</strong> <span th:text="${student.email}"></span></p>

        <hr>

        <!-- Registered Courses -->
        <h4>Registered Courses</h4>
        <table class="table table-bordered">
            <thead>
            <tr>
                <th>Course Title</th>
                <th>Price Type</th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="c : ${registeredCourses}">
                <td th:text="${c.title}"></td>
                <td th:text="${c.priceType}"></td>
            </tr>

            <tr th:if="${registeredCourses.size() == 0}">
                <td colspan="2" class="text-muted">No registered courses</td>
            </tr>
            </tbody>
        </table>

        <hr>

        <!-- Not Registered Courses -->
        <h4>Not Registered Courses</h4>
        <table class="table table-bordered">
            <thead>
            <tr>
                <th>Course Title</th>
                <th>Price Type</th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="c : ${notRegisteredCourses}">
                <td th:text="${c.title}"></td>
                <td th:text="${c.priceType}"></td>
            </tr>

            <tr th:if="${notRegisteredCourses.size() == 0}">
                <td colspan="2" class="text-muted">Student registered for all courses</td>
            </tr>
            </tbody>
        </table>

        <a th:href="@{/admin/students}" class="btn btn-secondary mt-3">Back to list</a>

    </div> <!-- end content -->
</div> <!-- end layout -->

</body>
</html>
